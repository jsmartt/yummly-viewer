import{c as W,e as re,f as Q,j as Ve,C as Ae,a as u,h as d,g as T,s as te,i as qe,r as S,o as le,w as O,a1 as ze,a2 as $e,b as de,a3 as De,a4 as we,d as Ne,a5 as Ie,a6 as Te,v as H,X as Fe,x as Ee,k as je,J as fe,R as ve,W as j,N as me,M as Y,L as ge,U as he,Q as Oe,V as Pe,A as Le,Z as Me}from"./index-DcQu5TCL.js";import{h as K,i as Qe,j as Ue,b as He,e as P,k as Ke,R as We,l as ke,m as Ze,n as Ye,o as oe}from"./QBtn-ahRDM0kG.js";import{u as Be,a as Re,n as Je,d as Xe,b as be}from"./collections-BP85ZkAL.js";const $t=W({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=T(),l=re(Ve,Q);if(l===Q)return console.error("QPage needs to be a deep child of QLayout"),Q;if(re(Ae,Q)===Q)return console.error("QPage needs to be child of QPageContainer"),Q;const s=u(()=>{const f=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof e.styleFn=="function"){const _=l.isContainer.value===!0?l.containerHeight.value:n.screen.height;return e.styleFn(f,_)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-f+"px":n.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":n.screen.height-f+"px"}}),i=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>d("main",{class:i.value,style:s.value},K(t.default))}}),Ge={xs:8,sm:10,md:14,lg:20,xl:24},et=W({name:"QChip",props:{...Be,...Qe,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=T(),a=Re(e,l),s=Ue(e,Ge),i=u(()=>e.selected===!0||e.icon!==void 0),f=u(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),_=u(()=>e.iconRemove||l.iconSet.chip.remove),R=u(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),q=u(()=>{const v=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(v?` text-${v} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(R.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),z=u(()=>{const v=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},B={...v,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:v,remove:B}});function F(v){v.keyCode===13&&w(v)}function w(v){e.disable||(n("update:selected",!e.selected),n("click",v))}function k(v){(v.keyCode===void 0||v.keyCode===13)&&(te(v),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function g(){const v=[];R.value===!0&&v.push(d("div",{class:"q-focus-helper"})),i.value===!0&&v.push(d(P,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const B=e.label!==void 0?[d("div",{class:"ellipsis"},[e.label])]:void 0;return v.push(d("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ke(t.default,B))),e.iconRight&&v.push(d(P,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&v.push(d(P,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:_.value,...z.value.remove,onClick:k,onKeyup:k})),v}return()=>{if(e.modelValue===!1)return;const v={class:q.value,style:s.value};return R.value===!0&&Object.assign(v,z.value.chip,{onClick:w,onKeyup:F}),He("div",v,g(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[We,e.ripple]])}}});let ie,J=0;const A=new Array(256);for(let e=0;e<256;e++)A[e]=(e+256).toString(16).substring(1);const tt=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),pe=4096;function ue(){(ie===void 0||J+16>pe)&&(J=0,ie=tt(pe));const e=Array.prototype.slice.call(ie,J,J+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,A[e[0]]+A[e[1]]+A[e[2]]+A[e[3]]+"-"+A[e[4]]+A[e[5]]+"-"+A[e[6]]+A[e[7]]+"-"+A[e[8]]+A[e[9]]+"-"+A[e[10]]+A[e[11]]+A[e[12]]+A[e[13]]+A[e[14]]+A[e[15]]}function lt(e){return e??null}function ye(e,t){return e??(t===!0?`f_${ue()}`:null)}function nt({getValue:e,required:t=!0}={}){if(qe.value===!0){const n=e!==void 0?S(lt(e())):S(null);return t===!0&&n.value===null&&le(()=>{n.value=`f_${ue()}`}),e!==void 0&&O(e,l=>{n.value=ye(l,t)}),n}return e!==void 0?u(()=>ye(e(),t)):S(`f_${ue()}`)}const Se=/^on[A-Z]/;function ot(){const{attrs:e,vnode:t}=T(),n={listeners:S({}),attributes:S({})};function l(){const a={},s={};for(const i in e)i!=="class"&&i!=="style"&&Se.test(i)===!1&&(a[i]=e[i]);for(const i in t.props)Se.test(i)===!0&&(s[i]=t.props[i]);n.attributes.value=a,n.listeners.value=s}return ze(l),l(),n}function it({validate:e,resetValidation:t,requiresQForm:n}){const l=re($e,!1);if(l!==!1){const{props:a,proxy:s}=T();Object.assign(s,{validate:e,resetValidation:t}),O(()=>a.disable,i=>{i===!0?(typeof t=="function"&&t(),l.unbindComponent(s)):l.bindComponent(s)}),le(()=>{a.disable!==!0&&l.bindComponent(s)}),de(()=>{a.disable!==!0&&l.unbindComponent(s)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ce=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,xe=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,_e=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,X=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,G=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ae={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ce.test(e),hexaColor:e=>xe.test(e),hexOrHexaColor:e=>_e.test(e),rgbColor:e=>X.test(e),rgbaColor:e=>G.test(e),rgbOrRgbaColor:e=>X.test(e)||G.test(e),hexOrRgbColor:e=>Ce.test(e)||X.test(e),hexaOrRgbaColor:e=>xe.test(e)||G.test(e),anyColor:e=>_e.test(e)||X.test(e)||G.test(e)},at=[!0,!1,"ondemand"],rt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>at.includes(e)}};function ut(e,t){const{props:n,proxy:l}=T(),a=S(!1),s=S(null),i=S(!1);it({validate:g,resetValidation:k});let f=0,_;const R=u(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),q=u(()=>n.disable!==!0&&R.value===!0&&t.value===!1),z=u(()=>n.error===!0||a.value===!0),F=u(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:s.value);O(()=>n.modelValue,()=>{i.value=!0,q.value===!0&&n.lazyRules===!1&&v()});function w(){n.lazyRules!=="ondemand"&&q.value===!0&&i.value===!0&&v()}O(()=>n.reactiveRules,B=>{B===!0?_===void 0&&(_=O(()=>n.rules,w,{immediate:!0,deep:!0})):_!==void 0&&(_(),_=void 0)},{immediate:!0}),O(()=>n.lazyRules,w),O(e,B=>{B===!0?i.value=!0:q.value===!0&&n.lazyRules!=="ondemand"&&v()});function k(){f++,t.value=!1,i.value=!1,a.value=!1,s.value=null,v.cancel()}function g(B=n.modelValue){if(n.disable===!0||R.value===!1)return!0;const r=++f,V=t.value!==!0?()=>{i.value=!0}:()=>{},D=(c,p)=>{c===!0&&V(),a.value=c,s.value=p||null,t.value=!1},$=[];for(let c=0;c<n.rules.length;c++){const p=n.rules[c];let C;if(typeof p=="function"?C=p(B,ae):typeof p=="string"&&ae[p]!==void 0&&(C=ae[p](B)),C===!1||typeof C=="string")return D(!0,C),!1;C!==!0&&C!==void 0&&$.push(C)}return $.length===0?(D(!1),!0):(t.value=!0,Promise.all($).then(c=>{if(c===void 0||Array.isArray(c)===!1||c.length===0)return r===f&&D(!1),!0;const p=c.find(C=>C===!1||typeof C=="string");return r===f&&D(p!==void 0,p),p===void 0},c=>(r===f&&(console.error(c),D(!0)),!1)))}const v=De(g,0);return de(()=>{_!==void 0&&_(),v.cancel()}),Object.assign(l,{resetValidation:k,validate:g}),we(l,"hasError",()=>z.value),{isDirtyModel:i,hasRules:R,hasError:z,errorMessage:F,validate:g,resetValidation:k}}let se=[],st=[];function ct(e){st.length===0?e():se.push(e)}function dt(e){se=se.filter(t=>t!==e)}function ce(e){return e!=null&&(""+e).length!==0}const ft={...Be,...rt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},vt=["update:modelValue","clear","focus","blur"];function mt({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:l,proxy:a}=T(),s=Re(l,a.$q),i=nt({required:e,getValue:()=>l.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?u(()=>l.tag):{value:"label"},isDark:s,editable:u(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:S(!1),focused:S(!1),hasPopupOpen:!1,splitAttrs:ot(),targetUid:i,rootRef:S(null),targetRef:S(null),controlRef:S(null)}}function gt(e){const{props:t,emit:n,slots:l,attrs:a,proxy:s}=T(),{$q:i}=s;let f=null;e.hasValue===void 0&&(e.hasValue=u(()=>ce(t.modelValue))),e.emitValue===void 0&&(e.emitValue=o=>{n("update:modelValue",o)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:y,onFocusout:x}),Object.assign(e,{clearValue:E,onControlFocusin:y,onControlFocusout:x,focus:p}),e.computedCounter===void 0&&(e.computedCounter=u(()=>{if(t.counter!==!1){const o=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,m=t.maxlength!==void 0?t.maxlength:t.maxValues;return o+(m!==void 0?" / "+m:"")}}));const{isDirtyModel:_,hasRules:R,hasError:q,errorMessage:z,resetValidation:F}=ut(e.focused,e.innerLoading),w=e.floatingLabel!==void 0?u(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):u(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),k=u(()=>t.bottomSlots===!0||t.hint!==void 0||R.value===!0||t.counter===!0||t.error!==null),g=u(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),v=u(()=>`q-field row no-wrap items-start q-field--${g.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(w.value===!0?" q-field--float":"")+(r.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(q.value===!0?" q-field--error":"")+(q.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&k.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),B=u(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(q.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),r=u(()=>t.labelSlot===!0||t.label!==void 0),V=u(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&q.value!==!0?` text-${t.labelColor}`:"")),D=u(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:w.value,modelValue:t.modelValue,emitValue:e.emitValue})),$=u(()=>{const o={};return e.targetUid.value&&(o.for=e.targetUid.value),t.disable===!0&&(o["aria-disabled"]="true"),o});function c(){const o=document.activeElement;let m=e.targetRef!==void 0&&e.targetRef.value;m&&(o===null||o.id!==e.targetUid.value)&&(m.hasAttribute("tabindex")===!0||(m=m.querySelector("[tabindex]")),m&&m!==o&&m.focus({preventScroll:!0}))}function p(){ct(c)}function C(){dt(c);const o=document.activeElement;o!==null&&e.rootRef.value.contains(o)&&o.blur()}function y(o){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",o))}function x(o,m){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",o)),m!==void 0&&m())})}function E(o){te(o),i.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),Ne(()=>{const m=_.value;F(),_.value=m})}function b(o){[13,32].includes(o.keyCode)&&E(o)}function N(){const o=[];return l.prepend!==void 0&&o.push(d("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:H},l.prepend())),o.push(d("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},I())),q.value===!0&&t.noErrorIcon===!1&&o.push(L("error",[d(P,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?o.push(L("inner-loading-append",l.loading!==void 0?l.loading():[d(ke,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&o.push(L("inner-clearable-append",[d(P,{class:"q-field__focusable-action",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":i.lang.label.clear,onKeyup:b,onClick:E})])),l.append!==void 0&&o.push(d("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:H},l.append())),e.getInnerAppend!==void 0&&o.push(L("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&o.push(e.getControlChild()),o}function I(){const o=[];return t.prefix!==void 0&&t.prefix!==null&&o.push(d("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&o.push(e.getShadowControl()),e.getControl!==void 0?o.push(e.getControl()):l.rawControl!==void 0?o.push(l.rawControl()):l.control!==void 0&&o.push(d("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(D.value))),r.value===!0&&o.push(d("div",{class:V.value},K(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&o.push(d("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),o.concat(K(l.default))}function ne(){let o,m;q.value===!0?z.value!==null?(o=[d("div",{role:"alert"},z.value)],m=`q--slot-error-${z.value}`):(o=K(l.error),m="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(o=[d("div",t.hint)],m=`q--slot-hint-${t.hint}`):(o=K(l.hint),m="q--slot-hint"));const M=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&M===!1&&o===void 0)return;const Z=d("div",{key:m,class:"q-field__messages col"},o);return d("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:H},[t.hideBottomSpace===!0?Z:d(Fe,{name:"q-transition--field-message"},()=>Z),M===!0?d("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function L(o,m){return m===null?null:d("div",{key:o,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},m)}let h=!1;return Ie(()=>{h=!0}),Te(()=>{h===!0&&t.autofocus===!0&&s.focus()}),t.autofocus===!0&&le(()=>{s.focus()}),de(()=>{f!==null&&clearTimeout(f)}),Object.assign(s,{focus:p,blur:C}),function(){const m=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...$.value}:$.value;return d(e.tag.value,{ref:e.rootRef,class:[v.value,a.class],style:a.style,...m},[l.before!==void 0?d("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:H},l.before()):null,d("div",{class:"q-field__inner relative-position col self-stretch"},[d("div",{ref:e.controlRef,class:B.value,tabindex:-1,...e.controlEvents},N()),k.value===!0?ne():null]),l.after!==void 0?d("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:H},l.after()):null])}}const ht={name:String};function bt(e){return u(()=>e.name||e.for)}function U(e,t,n,l){const a=[];return e.forEach(s=>{l(s)===!0?a.push(s):t.push({failedPropValidation:n,file:s})}),a}function ee(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),te(e)}const pt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},yt=["rejected"];function St({editable:e,dnd:t,getFileInput:n,addFilesToQueue:l}){const{props:a,emit:s,proxy:i}=T(),f=S(null),_=u(()=>a.accept!==void 0?a.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),R=u(()=>parseInt(a.maxFiles,10)),q=u(()=>parseInt(a.maxTotalSize,10));function z(r){if(e.value)if(r!==Object(r)&&(r={target:null}),r.target!==null&&r.target.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&Ee(r);else{const V=n();V&&V!==r.target&&V.click(r)}}function F(r){e.value&&r&&l(null,r)}function w(r,V,D,$){let c=Array.from(V||r.target.files);const p=[],C=()=>{p.length!==0&&s("rejected",p)};if(a.accept!==void 0&&_.value.indexOf("*/")===-1&&(c=U(c,p,"accept",y=>_.value.some(x=>y.type.toUpperCase().startsWith(x)||y.name.toUpperCase().endsWith(x))),c.length===0))return C();if(a.maxFileSize!==void 0){const y=parseInt(a.maxFileSize,10);if(c=U(c,p,"max-file-size",x=>x.size<=y),c.length===0)return C()}if(a.multiple!==!0&&c.length!==0&&(c=[c[0]]),c.forEach(y=>{y.__key=y.webkitRelativePath+y.lastModified+y.name+y.size}),$===!0){const y=D.map(x=>x.__key);c=U(c,p,"duplicate",x=>y.includes(x.__key)===!1)}if(c.length===0)return C();if(a.maxTotalSize!==void 0){let y=$===!0?D.reduce((x,E)=>x+E.size,0):0;if(c=U(c,p,"max-total-size",x=>(y+=x.size,y<=q.value)),c.length===0)return C()}if(typeof a.filter=="function"){const y=a.filter(c);c=U(c,p,"filter",x=>y.includes(x))}if(a.maxFiles!==void 0){let y=$===!0?D.length:0;if(c=U(c,p,"max-files",()=>(y++,y<=R.value)),c.length===0)return C()}if(C(),c.length!==0)return c}function k(r){ee(r),t.value!==!0&&(t.value=!0)}function g(r){te(r),(r.relatedTarget!==null||je.is.safari!==!0?r.relatedTarget!==f.value:document.elementsFromPoint(r.clientX,r.clientY).includes(f.value)===!1)===!0&&(t.value=!1)}function v(r){ee(r);const V=r.dataTransfer.files;V.length!==0&&l(null,V),t.value=!1}function B(r){if(t.value===!0)return d("div",{ref:f,class:`q-${r}__dnd absolute-full`,onDragenter:ee,onDragover:ee,onDragleave:g,onDrop:v})}return Object.assign(i,{pickFiles:z,addFiles:F}),{pickFiles:z,addFiles:F,onDragover:k,onDragleave:g,processFiles:w,getDndNode:B,maxFilesNumber:R,maxTotalSizeNumber:q}}function Ct(e,t){function n(){const l=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(s=>{a.items.add(s)}),{files:a.files}}catch{return{files:void 0}}}return u(n)}const xt=W({name:"QFile",inheritAttrs:!1,props:{...ft,...ht,...pt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...vt,...yt],setup(e,{slots:t,emit:n,attrs:l}){const{proxy:a}=T(),s=mt(),i=S(null),f=S(!1),_=bt(e),{pickFiles:R,onDragover:q,onDragleave:z,processFiles:F,getDndNode:w}=St({editable:s.editable,dnd:f,getFileInput:b,addFilesToQueue:N}),k=Ct(e),g=u(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),v=u(()=>ce(g.value)),B=u(()=>g.value.map(h=>h.name).join(", ")),r=u(()=>Je(g.value.reduce((h,o)=>h+o.size,0))),V=u(()=>({totalSize:r.value,filesNumber:g.value.length,maxFiles:e.maxFiles})),D=u(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:_.value,...l,id:s.targetUid.value,disabled:s.editable.value!==!0})),$=u(()=>"q-file q-field--auto-height"+(f.value===!0?" q-file--dnd":"")),c=u(()=>e.multiple===!0&&e.append===!0);function p(h){const o=g.value.slice();o.splice(h,1),y(o)}function C(h){const o=g.value.indexOf(h);o!==-1&&p(o)}function y(h){n("update:modelValue",e.multiple===!0?h:h[0])}function x(h){h.keyCode===13&&H(h)}function E(h){(h.keyCode===13||h.keyCode===32)&&R(h)}function b(){return i.value}function N(h,o){const m=F(h,o,g.value,c.value),M=b();M!=null&&(M.value=""),m!==void 0&&((e.multiple===!0?e.modelValue&&m.every(Z=>g.value.includes(Z)):e.modelValue===m[0])||y(c.value===!0?g.value.concat(m):m))}function I(){return[d("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ne(){if(t.file!==void 0)return g.value.length===0?I():g.value.map((o,m)=>t.file({index:m,file:o,ref:this}));if(t.selected!==void 0)return g.value.length===0?I():t.selected({files:g.value,ref:this});if(e.useChips===!0)return g.value.length===0?I():g.value.map((o,m)=>d(et,{key:"file-"+m,removable:s.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{p(m)}},()=>d("span",{class:"ellipsis",textContent:o.name})));const h=e.displayValue!==void 0?e.displayValue:B.value;return h.length!==0?[d("div",{class:e.inputClass,style:e.inputStyle,textContent:h})]:I()}function L(){const h={ref:i,...D.value,...k.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:N};return e.multiple===!0&&(h.multiple=!0),d("input",h)}return Object.assign(s,{fieldClass:$,emitValue:y,hasValue:v,inputRef:i,innerValue:g,floatingLabel:u(()=>v.value===!0||ce(e.displayValue)),computedCounter:u(()=>{if(e.counterLabel!==void 0)return e.counterLabel(V.value);const h=e.maxFiles;return`${g.value.length}${h!==void 0?" / "+h:""} (${r.value})`}),getControlChild:()=>w("file"),getControl:()=>{const h={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return s.editable.value===!0&&Object.assign(h,{onDragover:q,onDragleave:z,onKeydown:x,onKeyup:E}),d("div",h,[L()].concat(ne()))}}),Object.assign(a,{removeAtIndex:p,removeFile:C,getNativeElement:()=>i.value}),we(a,"nativeEl",()=>i.value),gt(s)}}),_t='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',qt=W({name:"QSpinnerDots",props:Ze,setup(e){const{cSize:t,classes:n}=Ye(e);return()=>d("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:_t})}}),wt={key:0,class:"text-negative"},Ft={class:"text-center"},Dt={__name:"LoadFile",setup(e){const t=Xe(),n=S(!1),l=S(null),a=S(null);return O(l,async s=>{if(s){n.value=!0;let i=null;try{i=await s.text()}catch(f){a.value="Failed to load file contents: "+f.message}try{let f=JSON.parse(i);t.loadData(f)}catch(f){a.value="Failed to parse file contents as JSON: "+f.message}n.value=!1}else t.$reset()}),(s,i)=>(fe(),ve("div",null,[i[6]||(i[6]=j("div",null,[j("h5",{class:"q-mb-sm"},"Step 1: Download your collections"),j("div",null,[me(" To use this site, you must first download your Yummly collections using the "),j("a",{href:"https://chromewebstore.google.com/detail/yummly-collections-downlo/knonlpablinjnhbmcijlifdkghjoeddn"}," Yummly Collections Downloader Chrome extension"),me(". ")])],-1)),j("div",null,[i[4]||(i[4]=j("h5",{class:"q-mb-sm"},"Step 2: Load the file here",-1)),i[5]||(i[5]=j("div",null," The file is loaded in memory on this web page. It is not persisted, so don't refresh the page while you're working. ",-1)),Y(xt,{modelValue:l.value,"onUpdate:modelValue":i[2]||(i[2]=f=>l.value=f),label:"Click here to select a file",loading:n.value,disable:n.value,accept:".json",counter:"",filled:"","bottom-slots":""},{prepend:ge(()=>[Y(P,{name:"file_upload",onClick:i[0]||(i[0]=he(()=>{},["stop","prevent"]))})]),error:ge(()=>[a.value?(fe(),ve("div",wt,Oe(a.value),1)):Pe("",!0),Y(P,{name:"file_upload",onClick:i[1]||(i[1]=he(()=>{},["stop","prevent"]))})]),_:1},8,["modelValue","loading","disable"]),Le(j("div",Ft,[i[3]||(i[3]=j("div",null,"Loading",-1)),Y(qt,{color:"accent",size:"3em"})],512),[[Me,n.value]])])]))}},kt={ratio:[String,Number]};function Bt(e,t){return u(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Rt=1.7778,Nt=W({name:"QImg",props:{...kt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Rt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const l=S(e.initialRatio),a=Bt(e,l),s=T(),{registerTimeout:i,removeTimeout:f}=be(),{registerTimeout:_,removeTimeout:R}=be(),q=u(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),z=u(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),F=[S(null),S(q.value)],w=S(0),k=S(!1),g=S(!1),v=u(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),B=u(()=>({width:e.width,height:e.height})),r=u(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),V=u(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function D(){if(R(),e.loadingShowDelay===0){k.value=!0;return}_(()=>{k.value=!0},e.loadingShowDelay)}function $(){R(),k.value=!1}function c({target:b}){oe(s)===!1&&(f(),l.value=b.naturalHeight===0?.5:b.naturalWidth/b.naturalHeight,p(b,1))}function p(b,N){N===1e3||oe(s)===!0||(b.complete===!0?C(b):i(()=>{p(b,N+1)},50))}function C(b){oe(s)!==!0&&(w.value=w.value^1,F[w.value].value=null,$(),b.getAttribute("__qerror")!=="true"&&(g.value=!1),n("load",b.currentSrc||b.src))}function y(b){f(),$(),g.value=!0,F[w.value].value=z.value,F[w.value^1].value=q.value,n("error",b)}function x(b){const N=F[b].value,I={key:"img_"+b,class:r.value,style:V.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...N};return w.value===b?Object.assign(I,{class:I.class+"current",onLoad:c,onError:y}):I.class+="loaded",d("div",{class:"q-img__container absolute-full",key:"img"+b},d("img",I))}function E(){return k.value===!1?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},K(t[g.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[d(ke,{color:e.spinnerColor,size:e.spinnerSize})])}{let b=function(){O(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,N=>{f(),g.value=!1,N===null?($(),F[w.value^1].value=q.value):D(),F[w.value].value=N},{immediate:!0})};qe.value===!0?le(b):b()}return()=>{const b=[];return a.value!==null&&b.push(d("div",{key:"filler",style:a.value})),F[0].value!==null&&b.push(x(0)),F[1].value!==null&&b.push(x(1)),b.push(d(Fe,{name:"q-transition--fade"},E)),d("div",{key:"main",class:v.value,style:B.value,role:"img","aria-label":e.alt},b)}}}),It=(e,t)=>{const n=e.__vccOpts||e;for(const[l,a]of t)n[l]=a;return n};export{Nt as Q,It as _,$t as a,Dt as b,ue as c,nt as u};
